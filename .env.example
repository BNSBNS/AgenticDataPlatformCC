# ==============================================================================
# AGENTIC DATA PLATFORM - ENVIRONMENT CONFIGURATION
# ==============================================================================
# Copy this file to .env and fill in your actual values
# Never commit .env to version control

# ==============================================================================
# ENVIRONMENT
# ==============================================================================
ENVIRONMENT=development  # development, staging, production
LOG_LEVEL=INFO
DEBUG=true

# ==============================================================================
# STORAGE CONFIGURATION
# ==============================================================================

# MinIO / S3 Configuration
STORAGE_TYPE=minio  # minio, s3
STORAGE_ENDPOINT=http://localhost:9000
STORAGE_ACCESS_KEY=minioadmin
STORAGE_SECRET_KEY=minioadmin
STORAGE_BUCKET_BRONZE=lakehouse-bronze
STORAGE_BUCKET_SILVER=lakehouse-silver
STORAGE_BUCKET_GOLD=lakehouse-gold
STORAGE_REGION=us-east-1

# AWS S3 (for production cloud deployment)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1
AWS_S3_BUCKET_BRONZE=
AWS_S3_BUCKET_SILVER=
AWS_S3_BUCKET_GOLD=

# ==============================================================================
# APACHE ICEBERG CONFIGURATION
# ==============================================================================
ICEBERG_CATALOG_TYPE=rest  # rest, glue, hive
ICEBERG_CATALOG_URI=http://localhost:8181
ICEBERG_WAREHOUSE_LOCATION=s3://lakehouse/warehouse

# AWS Glue Catalog (for AWS deployment)
ICEBERG_GLUE_CATALOG_ID=
ICEBERG_GLUE_REGION=us-east-1

# ==============================================================================
# APACHE PAIMON CONFIGURATION
# ==============================================================================
PAIMON_CATALOG_TYPE=filesystem  # filesystem, hive
PAIMON_WAREHOUSE_PATH=s3://lakehouse/paimon-warehouse
PAIMON_METASTORE_URI=

# ==============================================================================
# KAFKA CONFIGURATION
# ==============================================================================
KAFKA_BOOTSTRAP_SERVERS=localhost:9092,localhost:9093,localhost:9094
KAFKA_SCHEMA_REGISTRY_URL=http://localhost:8081
KAFKA_SECURITY_PROTOCOL=PLAINTEXT  # PLAINTEXT, SASL_SSL
KAFKA_SASL_MECHANISM=
KAFKA_SASL_USERNAME=
KAFKA_SASL_PASSWORD=

# Kafka Topics
KAFKA_TOPIC_RAW_EVENTS=raw-events
KAFKA_TOPIC_CDC_STREAMS=cdc-streams
KAFKA_TOPIC_API_EVENTS=api-events
KAFKA_TOPIC_MCP_REQUESTS=mcp-requests
KAFKA_TOPIC_DLQ=dead-letter-queue

# ==============================================================================
# APACHE FLINK CONFIGURATION
# ==============================================================================
FLINK_JOBMANAGER_RPC_ADDRESS=localhost
FLINK_JOBMANAGER_RPC_PORT=6123
FLINK_REST_ADDRESS=localhost
FLINK_REST_PORT=8081
FLINK_PARALLELISM=4
FLINK_CHECKPOINT_INTERVAL=60000
FLINK_CHECKPOINT_DIR=s3://lakehouse/flink-checkpoints

# ==============================================================================
# DATABASE CONFIGURATION
# ==============================================================================

# PostgreSQL (Metadata Store)
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=dataplatform_metadata
POSTGRES_USER=dataplatform
POSTGRES_PASSWORD=dataplatform_password
POSTGRES_SCHEMA=public

# Connection Pool
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10

# ==============================================================================
# VECTOR DATABASES
# ==============================================================================

# Pinecone (Cloud)
PINECONE_API_KEY=
PINECONE_ENVIRONMENT=
PINECONE_INDEX_NAME=data-platform-vectors

# Milvus (Kubernetes)
MILVUS_HOST=localhost
MILVUS_PORT=19530
MILVUS_USER=
MILVUS_PASSWORD=
MILVUS_DB_NAME=dataplatform

# Qdrant (VM / Local)
QDRANT_HOST=localhost
QDRANT_PORT=6333
QDRANT_API_KEY=
QDRANT_COLLECTION_NAME=data-platform-vectors

# Embedding Configuration
EMBEDDING_PROVIDER=openai  # openai, cohere, sentence-transformers
EMBEDDING_MODEL=text-embedding-3-small
EMBEDDING_DIMENSION=1536

# ==============================================================================
# QUERY ENGINES
# ==============================================================================

# Trino
TRINO_HOST=localhost
TRINO_PORT=8080
TRINO_USER=trino
TRINO_CATALOG=iceberg
TRINO_SCHEMA=default

# Spark
SPARK_MASTER=local[*]  # local[*], spark://host:port
SPARK_APP_NAME=DataPlatform
SPARK_DRIVER_MEMORY=4g
SPARK_EXECUTOR_MEMORY=4g

# ==============================================================================
# DATA CATALOG & GOVERNANCE
# ==============================================================================

# DataHub
DATAHUB_GMS_URL=http://localhost:8080
DATAHUB_FRONTEND_URL=http://localhost:9002
DATAHUB_KAFKA_BOOTSTRAP=localhost:9092

# OpenLineage
OPENLINEAGE_URL=http://localhost:5000
OPENLINEAGE_NAMESPACE=dataplatform
OPENLINEAGE_API_KEY=

# Great Expectations
GE_CHECKPOINT_STORE_PATH=s3://lakehouse/ge-checkpoints
GE_VALIDATION_RESULTS_PATH=s3://lakehouse/ge-validation-results

# ==============================================================================
# SECURITY & ACCESS CONTROL
# ==============================================================================

# JWT Configuration
JWT_SECRET_KEY=your-secret-key-change-this-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRATION_MINUTES=60

# OAuth / OIDC
OAUTH_ENABLED=false
OAUTH_PROVIDER=
OAUTH_CLIENT_ID=
OAUTH_CLIENT_SECRET=
OAUTH_AUTHORIZATION_URL=
OAUTH_TOKEN_URL=

# Open Policy Agent (OPA)
OPA_URL=http://localhost:8181
OPA_POLICY_PATH=/v1/data/dataplatform/allow

# Encryption
ENCRYPTION_KEY=your-encryption-key-change-this-in-production
ENCRYPTION_ALGORITHM=AES256

# ==============================================================================
# AI & LLM CONFIGURATION
# ==============================================================================

# OpenAI
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_MAX_TOKENS=4096

# Cohere
COHERE_API_KEY=

# Local LLM (Optional)
LOCAL_LLM_ENDPOINT=http://localhost:8000
LOCAL_LLM_MODEL=llama-2-70b

# ==============================================================================
# MCP (MODEL CONTEXT PROTOCOL)
# ==============================================================================
MCP_SERVER_HOST=0.0.0.0
MCP_SERVER_PORT=8000
MCP_DATA_SERVER_PORT=8001
MCP_METADATA_SERVER_PORT=8002
MCP_QUERY_SERVER_PORT=8003
MCP_LINEAGE_SERVER_PORT=8004

# ==============================================================================
# API CONFIGURATION
# ==============================================================================
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
API_RELOAD=true
API_CORS_ORIGINS=*

# Rate Limiting
API_RATE_LIMIT_ENABLED=true
API_RATE_LIMIT_PER_MINUTE=100

# ==============================================================================
# MONITORING & OBSERVABILITY
# ==============================================================================

# Prometheus
PROMETHEUS_PORT=9090
PROMETHEUS_SCRAPE_INTERVAL=15s

# Grafana
GRAFANA_PORT=3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin

# OpenTelemetry
OTEL_ENABLED=true
OTEL_SERVICE_NAME=data-platform
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317

# Jaeger (Tracing)
JAEGER_AGENT_HOST=localhost
JAEGER_AGENT_PORT=6831

# ==============================================================================
# REDIS (Caching)
# ==============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_CACHE_TTL=3600

# ==============================================================================
# DEPLOYMENT CONFIGURATION
# ==============================================================================
DEPLOYMENT_TARGET=local  # local, aws, kubernetes, vm
KUBERNETES_NAMESPACE=dataplatform
AWS_ACCOUNT_ID=
AWS_EKS_CLUSTER_NAME=

# ==============================================================================
# FEATURE FLAGS
# ==============================================================================
FEATURE_PAIMON_ENABLED=true
FEATURE_VECTOR_SEARCH_ENABLED=true
FEATURE_MCP_ENABLED=true
FEATURE_DATAHUB_ENABLED=true
FEATURE_OPENLINEAGE_ENABLED=true
FEATURE_DATA_QUALITY_ENABLED=true
FEATURE_AGENTS_ENABLED=true

# ==============================================================================
# DATA QUALITY & COMPLIANCE
# ==============================================================================
DATA_QUALITY_CHECK_ENABLED=true
PII_DETECTION_ENABLED=true
GDPR_COMPLIANCE_ENABLED=false
SOC2_COMPLIANCE_ENABLED=false
DATA_RETENTION_DAYS_BRONZE=90
DATA_RETENTION_DAYS_SILVER=730
DATA_RETENTION_DAYS_GOLD=2555

# ==============================================================================
# DEVELOPMENT & DEBUGGING
# ==============================================================================
ENABLE_SQL_ECHO=false
ENABLE_PROFILING=false
MOCK_EXTERNAL_SERVICES=false
SAMPLE_DATA_GENERATION=true
